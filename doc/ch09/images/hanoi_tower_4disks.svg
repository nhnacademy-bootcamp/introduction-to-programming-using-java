<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
 <!-- Title -->
 <!-- Initial State -->
 <!-- Recursive Process -->
 <!-- After moving disk 4 -->
 <!-- Detailed steps visualization -->
 <!-- Step by step breakdown -->
 <!-- Code snippet -->
 <!-- Arrow definitions -->
 <defs>
  <marker markerUnits="strokeWidth" orient="auto" refY="3" refX="9" markerHeight="10" markerWidth="10" id="arrowBlue">
   <path id="svg_1" fill="#1565c0" d="m0,0l0,6l9,-3l-9,-3z"/>
  </marker>
 </defs>
 <g>
  <title>Layer 1</title>
  <text id="svg_2" font-weight="bold" font-size="26" text-anchor="middle" y="30" x="600">하노이의 탑 - 4개 원반의 재귀적 해결</text>
  <g id="recursive-process">
   <text id="svg_20" font-weight="bold" font-size="20" text-anchor="middle" y="70" x="600">재귀 호출 과정</text>
   <!-- Process steps -->
   <g id="svg_21">
    <rect id="svg_22" rx="5" stroke-width="2" stroke="#1565c0" fill="#e3f2fd" height="50" width="400" y="100" x="400"/>
    <text id="svg_23" font-weight="bold" font-size="14" text-anchor="middle" y="120" x="600">towersOfHanoi(4, 'A', 'C', 'B')</text>
    <text id="svg_24" font-size="12" text-anchor="middle" y="140" x="600">4개 원반을 A에서 C로 이동</text>
    <!-- Arrow down -->
    <path id="svg_25" marker-end="url(#arrowBlue)" stroke-width="2" stroke="#1565c0" d="m600,150l0,20"/>
    <!-- Step 1 -->
    <rect id="svg_26" rx="5" stroke-width="2" stroke="#f57c00" fill="#fff3e0" height="80" width="440" y="170" x="380"/>
    <text id="svg_27" font-weight="bold" font-size="13" text-anchor="middle" y="190" x="600">재귀 분해:</text>
    <text id="svg_28" font-size="12" text-anchor="middle" y="210" x="600">1. towersOfHanoi(3, 'A', 'B', 'C') - 상위 3개를 A→B</text>
    <text id="svg_29" font-size="12" text-anchor="middle" y="230" x="600">2. 원반 4를 A→C로 이동</text>
    <text id="svg_30" font-size="12" text-anchor="middle" y="245" x="600">3. towersOfHanoi(3, 'B', 'C', 'A') - 3개를 B→C</text>
   </g>
  </g>
  <g id="detailed-steps">
   <text id="svg_49" font-weight="bold" font-size="18" text-anchor="middle" y="450" x="600">재귀 호출 트리</text>
   <!-- Main call -->
   <rect id="svg_50" rx="5" stroke-width="2" stroke="#1565c0" fill="#e3f2fd" height="40" width="200" y="470" x="500"/>
   <text id="svg_51" font-size="12" text-anchor="middle" y="495" x="600">hanoi(4, A→C)</text>
   <!-- Three branches -->
   <!-- Left branch -->
   <path id="svg_52" stroke-width="2" stroke="#666" d="m550,510l-100,40"/>
   <rect id="svg_53" rx="5" stroke-width="2" stroke="#f57c00" fill="#fff3e0" height="35" width="160" y="550" x="370"/>
   <text id="svg_54" font-size="11" text-anchor="middle" y="570" x="450">hanoi(3, A→B)</text>
   <text id="svg_55" fill="#666" font-size="9" text-anchor="middle" y="582" x="450">재귀: 7번 이동</text>
   <!-- Center branch -->
   <path id="svg_56" stroke-width="2" stroke="#666" d="m600,510l0,40"/>
   <rect id="svg_57" rx="5" stroke-width="2" stroke="#4caf50" fill="#c8e6c9" height="35" width="160" y="550" x="520"/>
   <text id="svg_58" font-size="11" text-anchor="middle" y="570" x="600">원반 4: A→C</text>
   <text id="svg_59" fill="#2e7d32" font-size="9" text-anchor="middle" y="582" x="600">직접 이동</text>
   <!-- Right branch -->
   <path id="svg_60" stroke-width="2" stroke="#666" d="m650,510l100,40"/>
   <rect id="svg_61" rx="5" stroke-width="2" stroke="#f57c00" fill="#fff3e0" height="35" width="160" y="550" x="670"/>
   <text id="svg_62" font-size="11" text-anchor="middle" y="570" x="750">hanoi(3, B→C)</text>
   <text id="svg_63" fill="#666" font-size="9" text-anchor="middle" y="582" x="750">재귀: 7번 이동</text>
   <!-- Total moves -->
   <rect id="svg_64" rx="5" stroke-width="2" stroke="#d32f2f" fill="#ffebee" height="40" width="200" y="620" x="500"/>
   <text id="svg_65" font-weight="bold" font-size="12" text-anchor="middle" y="640" x="600">총 이동 횟수: 15번</text>
   <text id="svg_66" font-size="10" text-anchor="middle" y="655" x="600">(2⁴ - 1 = 15)</text>
  </g>
  <g id="svg_78">
   <g id="step-breakdown">
    <rect id="svg_67" rx="5" stroke="#666" fill="#f5f5f5" height="120" width="300" y="603.5" x="45.5"/>
    <text id="svg_68" font-weight="bold" font-size="14" text-anchor="middle" y="623.5" x="195.5">단계별 분해</text>
    <text id="svg_69" font-size="12" y="648.5" x="55.5">1단계: hanoi(3, A→B) 실행</text>
    <text id="svg_70" font-size="12" y="668.5" x="55.5">2단계: 원반 4를 A→C로 이동</text>
    <text id="svg_71" font-size="12" y="688.5" x="55.5">3단계: hanoi(3, B→C) 실행</text>
    <text id="svg_72" fill="#666" font-size="12" y="708.5" x="55.5">각 hanoi(3)은 다시 재귀적으로 분해됨</text>
   </g>
   <g id="code-snippet">
    <rect id="svg_73" rx="5" stroke="#666" fill="#f5f5f5" height="120" width="400" y="603.5" x="754.5"/>
    <text id="svg_74" font-weight="bold" font-size="14" text-anchor="middle" y="623.5" x="954.5">핵심 코드</text>
    <text id="svg_75" font-family="monospace" font-size="11" y="648.5" x="764.5">towersOfHanoi(n-1, from, temp, to);</text>
    <text id="svg_76" fill="#2e7d32" font-family="monospace" font-size="11" y="668.5" x="764.5">// 원반 n을 from → to로 이동</text>
    <text id="svg_77" font-family="monospace" font-size="11" y="688.5" x="764.5">towersOfHanoi(n-1, temp, to, from);</text>
   </g>
  </g>
  <g id="svg_79">
   <g id="initial-state">
    <text id="svg_3" font-weight="bold" font-size="20" text-anchor="middle" y="70" x="200">초기 상태</text>
    <!-- Base and poles -->
    <g id="svg_4">
     <!-- Base -->
     <rect id="svg_5" stroke-width="2" stroke="#5d4037" fill="#8d6e63" height="20" width="360" y="350" x="20"/>
     <!-- Poles -->
     <rect id="svg_6" fill="#5d4037" height="200" width="10" y="150" x="70"/>
     <rect id="svg_7" fill="#5d4037" height="200" width="10" y="150" x="195"/>
     <rect id="svg_8" fill="#5d4037" height="200" width="10" y="150" x="320"/>
     <!-- Labels -->
     <text id="svg_9" font-weight="bold" font-size="18" text-anchor="middle" y="390" x="75">A</text>
     <text id="svg_10" font-weight="bold" font-size="18" text-anchor="middle" y="390" x="200">B</text>
     <text id="svg_11" font-weight="bold" font-size="18" text-anchor="middle" y="390" x="325">C</text>
     <!-- Disks on pole A -->
     <!-- Disk 4 (largest) -->
     <rect id="svg_12" rx="3" stroke-width="2" stroke="#b71c1c" fill="#d32f2f" height="20" width="90" y="330" x="25"/>
     <text id="svg_13" font-weight="bold" font-size="14" fill="white" text-anchor="middle" y="345" x="70">4</text>
     <!-- Disk 3 -->
     <rect id="svg_14" rx="3" stroke-width="2" stroke="#e65100" fill="#f57c00" height="20" width="70" y="310" x="35"/>
     <text id="svg_15" font-weight="bold" font-size="14" fill="white" text-anchor="middle" y="325" x="70">3</text>
     <!-- Disk 2 -->
     <rect id="svg_16" rx="3" stroke-width="2" stroke="#f57f17" fill="#fbc02d" height="20" width="50" y="290" x="45"/>
     <text id="svg_17" font-weight="bold" font-size="14" fill="white" text-anchor="middle" y="305" x="70">2</text>
     <!-- Disk 1 (smallest) -->
     <rect id="svg_18" rx="3" stroke-width="2" stroke="#2e7d32" fill="#388e3c" height="20" width="30" y="270" x="55"/>
     <text id="svg_19" font-weight="bold" font-size="14" fill="white" text-anchor="middle" y="285" x="70">1</text>
    </g>
   </g>
   <g id="after-disk4">
    <text id="svg_31" font-weight="bold" font-size="20" text-anchor="middle" y="70" x="1000">원반 4 이동 후</text>
    <text id="svg_32" fill="#666" font-size="14" text-anchor="middle" y="90" x="1000">(단계 1 완료, 단계 2 완료)</text>
    <!-- Base and poles -->
    <g id="svg_33">
     <!-- Base -->
     <rect id="svg_34" stroke-width="2" stroke="#5d4037" fill="#8d6e63" height="20" width="360" y="350" x="820"/>
     <!-- Poles -->
     <rect id="svg_35" fill="#5d4037" height="200" width="10" y="150" x="870"/>
     <rect id="svg_36" fill="#5d4037" height="200" width="10" y="150" x="995"/>
     <rect id="svg_37" fill="#5d4037" height="200" width="10" y="150" x="1120"/>
     <!-- Labels -->
     <text id="svg_38" font-weight="bold" font-size="18" text-anchor="middle" y="390" x="875">A</text>
     <text id="svg_39" font-weight="bold" font-size="18" text-anchor="middle" y="390" x="1000">B</text>
     <text id="svg_40" font-weight="bold" font-size="18" text-anchor="middle" y="390" x="1125">C</text>
     <!-- Disk 4 on pole C -->
     <rect id="svg_41" rx="3" stroke-width="2" stroke="#b71c1c" fill="#d32f2f" height="20" width="90" y="330" x="1080"/>
     <text id="svg_42" font-weight="bold" font-size="14" fill="white" text-anchor="middle" y="345" x="1125">4</text>
     <!-- Disks 1,2,3 on pole B (after step 1) -->
     <!-- Disk 3 -->
     <rect id="svg_43" rx="3" stroke-width="2" stroke="#e65100" fill="#f57c00" height="20" width="70" y="330" x="960"/>
     <text id="svg_44" font-weight="bold" font-size="14" fill="white" text-anchor="middle" y="345" x="995">3</text>
     <!-- Disk 2 -->
     <rect id="svg_45" rx="3" stroke-width="2" stroke="#f57f17" fill="#fbc02d" height="20" width="50" y="310" x="970"/>
     <text id="svg_46" font-weight="bold" font-size="14" fill="white" text-anchor="middle" y="325" x="995">2</text>
     <!-- Disk 1 -->
     <rect id="svg_47" rx="3" stroke-width="2" stroke="#2e7d32" fill="#388e3c" height="20" width="30" y="290" x="980"/>
     <text id="svg_48" font-weight="bold" font-size="14" fill="white" text-anchor="middle" y="305" x="995">1</text>
    </g>
   </g>
  </g>
 </g>
</svg>